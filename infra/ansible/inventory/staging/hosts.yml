---
# Staging Inventory for Model Train Control System
# Uses mDNS (.local) for easier discovery in development

all:
  children:
    central:
      hosts:
        train-server:
          ansible_host: train-server.local  # mDNS hostname
          ansible_user: ubuntu
          deploy_central_api: true
          deploy_mqtt: true

      vars:
        arch: amd64
        mqtt_port: 1883
        central_api_port: 8000

    edge:
      hosts:
        rpi-train-01:
          ansible_host: rpi-train-01.local  # mDNS hostname
          ansible_user: pi
          # train_id: Auto-generated UUID on first deployment (leave commented)
          train_name: "Test Train 1"

          # Plugin Configuration (for testing)
          hardware_type: simulator  # Use simulator in staging

        # Add more test devices as needed

      vars:
        arch: arm64
        central_api_host: train-server.local
        mqtt_broker: train-server.local
        simulation_mode: true  # Enable simulation in staging

  vars:
    ansible_python_interpreter: /usr/bin/python3
    docker_registry: ghcr.io
    github_repo: bunchc/model-train-control-system
